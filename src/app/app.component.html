<div class="col-md-3">
  <h3>Select images</h3>
  <input type="file" accept="image/*" #fileInput multiple (change)="addToQueue()"/>
</div>

<div class="col-md-9">
  <h3>Upload queue</h3>
  <table class="full-width mb-3">
    <thead>
    <tr>
      <th class="text-left">Name</th>
      <th class="text-right">Size</th>
      <th class="text-left">Progress</th>
      <th class="text-left">Status</th>
      <th class="text-right">Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let item of queue | async">
      <td>{{ item?.file?.name }}</td>
      <td class="text-right">{{ item?.file?.size/1024/1024 | number:'.2' }} MB</td>
      <td>{{ item.progress + ' %' }}</td>
      <td>
        <span *ngIf="item.isPending()" class="tag tag-default"></span>
        <span *ngIf="item.isSuccess()" class="tag tag-success"></span>
        <span *ngIf="item.inProgress()" class="tag tag-warning"></span>
        <span *ngIf="item.isError()" class="tag tag-danger"></span>
      </td>
      <td class="text-right td-action">
        <a class="icon-action" tooltip="Upload file" (click)="item.upload()" *ngIf="item.isUploadable()">
          <i class="icon-up-circled"></i>
        </a>
        <a class="icon-action" tooltip="Cancel upload" (click)="item.cancel()" *ngIf="item.inProgress()">
          <i class="icon-cancel-circled"></i>
        </a>
        <a class="icon-action" tooltip="Remove from queue" (click)="item.remove()" *ngIf="!item.inProgress()">
          <i class="icon-trash-empty"></i>
        </a>
      </td>
    </tr>
    </tbody>
  </table>
  <div>
    <button (click)="uploader.uploadAll()">Upload all images</button>
    <button (click)="uploader.clearQueue()">Clear queue</button>
  </div>
</div>

